<form id="category-form" method="POST" action="/api/categories/create/">
    <label for="name">Category Name:</label>
    <input type="text" id="name" name="name" required>
    <button type="submit">Create Category</button>
</form>

<script>
    const form = document.getElementById('category-form');
    form.addEventListener('submit', async (e) => {
        e.preventDefault();

        const formData = new FormData(form);
        const data = {
            name: formData.get('name')
        };

        const response = await fetch(form.action, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Bearer YOUR_JWT_TOKEN_HERE'
            },
            body: JSON.stringify(data)
        });

        if (response.ok) {
            alert('Category created successfully!');
            window.location.href = '/categories/';  // Redirect after success
        } else {
            alert('Failed to create category');
        }
    });
</script>
